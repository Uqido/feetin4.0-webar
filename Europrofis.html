<!DOCTYPE html>
<html lang="en" class="fullscreen-100">

<head>
    <meta charset="utf-8">
    <title>Europrofis</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/quiz.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="white" />
    <meta name="description" content="">
    <link rel="icon" type="image/png" href="favicon-uqido.png">

    <script src="https://unpkg.com/@webcomponents/webcomponentsjs/webcomponents-loader.js"></script>

    <script src="https://unpkg.com/intersection-observer/intersection-observer.js"></script>

    <script src="https://unpkg.com/resize-observer-polyfill/dist/ResizeObserver.js"></script>

    <script src="https://unpkg.com/fullscreen-polyfill/dist/fullscreen.polyfill.js"></script>

    <script src="https://unpkg.com/focus-visible/dist/focus-visible.js" defer></script>

    <script src="js/i18n/banana-i18n.js"></script>

    <script src="https://use.fontawesome.com/releases/v5.15.4/js/all.js" data-auto-a11y="true"></script>

    <style>
        .color-button {
            width: 30px;
            height: 30px;
            margin-top: 5px;
            background-color: white;
            border-radius: 50%;
            display: flex;
        }
        
        .color-button.selected {
            box-shadow: 0px 0px 0px 2px rgba(0, 0, 0, .5);
        }
        
        .color-button-label {
            margin-left: 40px;
            margin-top: auto;
            margin-bottom: auto;
        }
    </style>
</head>

<body class="fullscreen-100">
    <div class="fullscreen-100" style="display:flex; flex-direction: column;">
        <div id="model-viewer-container" class="viewer">
            <model-viewer id="modelViewer" class='model-viewer' ar autoplay camera-controls src='models/Europrofis.glb' ios-src='models/Europrofis.usdz' alt='' noloop camera-orbit="-90deg 90deg 100%" min-camera-orbit="auto 10deg 200%" max-camera-orbit="auto 130deg 190%"
                ar-modes="scene-viewer webxr quick-look" min-field-of-view="60deg" max-field-of-view="60deg" exposure="1" shadow-intensity="0" shadow-softness="0.8" quick-look-browsers="safari chrome">
                <script src="js/LoadingBar.js"></script>
                <div class="unselectable" id="" slot="" data-position="" data-normal="">
                    <div class="unselectable" style="display: flex;transform: translateX(50%)">
                        <div class="hotspot-bar"></div>
                        <div class="unselectable hotspot-text text-white"></div>
                    </div>
                </div>

                <div id="viewer-bottom" class="viewer-bottom">
                    <div id="highlight_neocortex" class="clickable color-button" style="background-color: rgb(93, 216, 238);" onclick="highlight('highlight_neocortex')">
                        <div class="color-button-label">
                            Neocortex
                        </div>
                    </div>
                    <div id="highlight_amygdala" class="clickable color-button" style="background-color: rgb(230, 103, 235);" onclick="highlight('highlight_amygdala')">
                        <div class="color-button-label">
                            Amygdala
                        </div>
                    </div>
                    <div id="highlight_thalamus" class="clickable color-button" style="background-color: rgb(85, 233, 134);" onclick="highlight('highlight_thalamus')">
                        <div class="color-button-label">
                            Thalamus
                        </div>
                    </div>
                </div>
                <script src="js/ContentCustomizer.js"></script>
                <script>
                    const highlight_neocortex = document.getElementById("highlight_neocortex")
                    const highlight_amygdala = document.getElementById("highlight_amygdala")
                    const highlight_thalamus = document.getElementById("highlight_thalamus")

                    const elements = [highlight_neocortex, highlight_amygdala, highlight_thalamus]

                    function highlight(tohighlight) {
                        for (element of elements) {
                            const currentIsSelected = element.id === tohighlight
                            materialHighlight(element.id, currentIsSelected)

                            if (currentIsSelected)
                                element.classList.add("selected")
                            else
                                element.classList.remove("selected")
                        }
                    }


                    function materialHighlight(materialName, isHighlighted) {
                        const toModify = modelViewer.model.materials.find(mat => mat.name === materialName)
                        if (toModify !== undefined)
                            toModify.setEmissiveFactor(isHighlighted ? [1, 1, 1] : [0, 0, 0])
                    }
                </script>
            </model-viewer>
        </div>
        <div class="quiz">
            <div id="quiz">
                <div id="question" class="custom-title">
                </div>
                <div style=" display: grid; grid-template-columns: 2fr 2fr">
                    <div style="grid-column-start: 1" class="answer-grid-cell">
                        <div id="answer-1" class="answer-card" onclick="onAnswerClick(0)">
                        </div>
                    </div>
                    <div style="grid-column-start: 2" class="answer-grid-cell">
                        <div id="answer-2" class="answer-card" onclick="onAnswerClick(1)">
                        </div>
                    </div>
                    <div style="grid-column-start: 1; grid-row-start: 2" class="answer-grid-cell">
                        <div id="answer-3" class="answer-card" onclick="onAnswerClick(2)">
                        </div>
                    </div>
                    <div style="grid-column-start: 2; grid-row-start: 2" class="answer-grid-cell">
                        <div id="answer-4" class="answer-card" onclick="onAnswerClick(3)">
                        </div>
                    </div>
                </div>
            </div>
            <div id="recap" style="display: none">
                <div class="custom-title">
                    Session Recap
                </div>
                <div id="recap-message" class="recap-message">
                </div>
                <div class="restart-card answer-card" onclick="restartQuiz()">
                    Restart
                </div>
            </div>
        </div>
    </div>
    <script type="module" src="js/model-viewer/dist/1.8.0/model-viewer.min.js"></script>
    <script src="js/page-config.js"></script>
    <script src="js/quiz.js"></script>
</body>

</html>