{"version":3,"sources":["scripts/orbit-camera.js","scripts/mouse-input.js","scripts/touch-input.js","scripts/animation-event-listener.js","scripts/ui-button.js","scripts/ar.js","loading.js","ui.js","scripts/look-at.js","scripts/hotspot-dot-button.js","assign-material-image-element.js","scripts/hotspot.js"],"names":[],"mappings":"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","sourcesContent":["// orbit-camera.js\nvar OrbitCamera = pc.createScript('orbitCamera');\n\nOrbitCamera.attributes.add('distanceMax', {type: 'number', default: 0, title: 'Distance Max', description: 'Setting this at 0 will give an infinite distance limit'});\nOrbitCamera.attributes.add('distanceMin', {type: 'number', default: 0, title: 'Distance Min'});\nOrbitCamera.attributes.add('pitchAngleMax', {type: 'number', default: 90, title: 'Pitch Angle Max (degrees)'});\nOrbitCamera.attributes.add('pitchAngleMin', {type: 'number', default: -90, title: 'Pitch Angle Min (degrees)'});\n\nOrbitCamera.attributes.add('inertiaFactor', {\n    type: 'number',\n    default: 0,\n    title: 'Inertia Factor',\n    description: 'Higher value means that the camera will continue moving after the user has stopped dragging. 0 is fully responsive.'\n});\n\nOrbitCamera.attributes.add('focusEntity', {\n    type: 'entity',\n    title: 'Focus Entity',\n    description: 'Entity for the camera to focus on. If blank, then the camera will use the whole scene'\n});\n\nOrbitCamera.attributes.add('frameOnStart', {\n    type: 'boolean',\n    default: true,\n    title: 'Frame on Start',\n    description: 'Frames the entity or scene at the start of the application.\"'\n});\n\n\n// Property to get and set the distance between the pivot point and camera\n// Clamped between this.distanceMin and this.distanceMax\nObject.defineProperty(OrbitCamera.prototype, \"distance\", {\n    get: function() {\n        return this._targetDistance;\n    },\n\n    set: function(value) {\n        this._targetDistance = this._clampDistance(value);\n    }\n});\n\n\n// Property to get and set the pitch of the camera around the pivot point (degrees)\n// Clamped between this.pitchAngleMin and this.pitchAngleMax\n// When set at 0, the camera angle is flat, looking along the horizon\nObject.defineProperty(OrbitCamera.prototype, \"pitch\", {\n    get: function() {\n        return this._targetPitch;\n    },\n\n    set: function(value) {\n        this._targetPitch = this._clampPitchAngle(value);\n    }\n});\n\n\n// Property to get and set the yaw of the camera around the pivot point (degrees)\nObject.defineProperty(OrbitCamera.prototype, \"yaw\", {\n    get: function() {\n        return this._targetYaw;\n    },\n\n    set: function(value) {\n        this._targetYaw = value;\n\n        // Ensure that the yaw takes the shortest route by making sure that \n        // the difference between the targetYaw and the actual is 180 degrees\n        // in either direction\n        var diff = this._targetYaw - this._yaw;\n        var reminder = diff % 360;\n        if (reminder > 180) {\n            this._targetYaw = this._yaw - (360 - reminder);\n        } else if (reminder < -180) {\n            this._targetYaw = this._yaw + (360 + reminder);\n        } else {\n            this._targetYaw = this._yaw + reminder;\n        }\n    }\n});\n\n\n// Property to get and set the world position of the pivot point that the camera orbits around\nObject.defineProperty(OrbitCamera.prototype, \"pivotPoint\", {\n    get: function() {\n        return this._pivotPoint;\n    },\n\n    set: function(value) {\n        this._pivotPoint.copy(value);\n    }\n});\n\n\n// Moves the camera to look at an entity and all its children so they are all in the view\nOrbitCamera.prototype.focus = function (focusEntity) {\n    // Calculate an bounding box that encompasses all the models to frame in the camera view\n    this._buildAabb(focusEntity, 0);\n\n    var halfExtents = this._modelsAabb.halfExtents;\n\n    var distance = Math.max(halfExtents.x, Math.max(halfExtents.y, halfExtents.z));\n    distance = (distance / Math.tan(0.5 * this.entity.camera.fov * pc.math.DEG_TO_RAD));\n    distance = (distance * 2);\n\n    this.distance = distance;\n\n    this._removeInertia();\n\n    this._pivotPoint.copy(this._modelsAabb.center);\n};\n\n\nOrbitCamera.distanceBetween = new pc.Vec3();\n\n// Set the camera position to a world position and look at a world position\n// Useful if you have multiple viewing angles to swap between in a scene\nOrbitCamera.prototype.resetAndLookAtPoint = function (resetPoint, lookAtPoint) {\n    this.pivotPoint.copy(lookAtPoint);\n    this.entity.setPosition(resetPoint);\n\n    this.entity.lookAt(lookAtPoint);\n\n    var distance = OrbitCamera.distanceBetween;\n    distance.sub2(lookAtPoint, resetPoint);\n    this.distance = distance.length();\n\n    this.pivotPoint.copy(lookAtPoint);\n\n    var cameraQuat = this.entity.getRotation();\n    this.yaw = this._calcYaw(cameraQuat);\n    this.pitch = this._calcPitch(cameraQuat, this.yaw);\n\n    this._removeInertia();\n    this._updatePosition();\n};\n\n\n// Set camera position to a world position and look at an entity in the scene\n// Useful if you have multiple models to swap between in a scene\nOrbitCamera.prototype.resetAndLookAtEntity = function (resetPoint, entity) {\n    this._buildAabb(entity, 0);\n    this.resetAndLookAtPoint(resetPoint, this._modelsAabb.center);\n};\n\n\n// Set the camera at a specific, yaw, pitch and distance without inertia (instant cut)\nOrbitCamera.prototype.reset = function (yaw, pitch, distance) {\n    this.pitch = pitch;\n    this.yaw = yaw;\n    this.distance = distance;\n\n    this._removeInertia();\n};\n\n/////////////////////////////////////////////////////////////////////////////////////////////\n// Private methods\n\nOrbitCamera.prototype.initialize = function () {\n    var self = this;\n    var onWindowResize = function () {\n        self._checkAspectRatio();\n    };\n\n    window.addEventListener('resize', onWindowResize, false);\n\n    this._checkAspectRatio();\n\n    // Find all the models in the scene that are under the focused entity\n    this._modelsAabb = new pc.BoundingBox();\n    this._buildAabb(this.focusEntity || this.app.root, 0);\n\n    this.entity.lookAt(this._modelsAabb.center);\n\n    this._pivotPoint = new pc.Vec3();\n    this._pivotPoint.copy(this._modelsAabb.center);\n\n    // Calculate the camera euler angle rotation around x and y axes\n    // This allows us to place the camera at a particular rotation to begin with in the scene\n    var cameraQuat = this.entity.getRotation();\n\n    // Preset the camera\n    this._yaw = this._calcYaw(cameraQuat);\n    this._pitch = this._clampPitchAngle(this._calcPitch(cameraQuat, this._yaw));\n    this.entity.setLocalEulerAngles(this._pitch, this._yaw, 0);\n\n    this._distance = 0;\n\n    this._targetYaw = this._yaw;\n    this._targetPitch = this._pitch;\n\n    // If we have ticked focus on start, then attempt to position the camera where it frames\n    // the focused entity and move the pivot point to entity's position otherwise, set the distance\n    // to be between the camera position in the scene and the pivot point\n    if (this.frameOnStart) {\n        this.focus(this.focusEntity || this.app.root);\n    } else {\n        var distanceBetween = new pc.Vec3();\n        distanceBetween.sub2(this.entity.getPosition(), this._pivotPoint);\n        this._distance = this._clampDistance(distanceBetween.length());\n    }\n\n    this._targetDistance = this._distance;\n\n    // Reapply the clamps if they are changed in the editor\n    this.on('attr:distanceMin', function (value, prev) {\n        this._targetDistance = this._clampDistance(this._distance);\n    });\n\n    this.on('attr:distanceMax', function (value, prev) {\n        this._targetDistance = this._clampDistance(this._distance);\n    });\n\n    this.on('attr:pitchAngleMin', function (value, prev) {\n        this._targetPitch = this._clampPitchAngle(this._pitch);\n    });\n\n    this.on('attr:pitchAngleMax', function (value, prev) {\n        this._targetPitch = this._clampPitchAngle(this._pitch);\n    });\n\n    // Focus on the entity if we change the focus entity\n    this.on('attr:focusEntity', function (value, prev) {\n        if (this.frameOnStart) {\n            this.focus(value || this.app.root);\n        } else {\n            this.resetAndLookAtEntity(this.entity.getPosition(), value || this.app.root);\n        }\n    });\n\n    this.on('attr:frameOnStart', function (value, prev) {\n        if (value) {\n            this.focus(this.focusEntity || this.app.root);\n        }\n    });\n\n    this.on('destroy', function() {\n        window.removeEventListener('resize', onWindowResize, false);\n    });\n};\n\n\nOrbitCamera.prototype.update = function(dt) {\n    // Add inertia, if any\n    var t = this.inertiaFactor === 0 ? 1 : Math.min(dt / this.inertiaFactor, 1);\n    this._distance = pc.math.lerp(this._distance, this._targetDistance, t);\n    this._yaw = pc.math.lerp(this._yaw, this._targetYaw, t);\n    this._pitch = pc.math.lerp(this._pitch, this._targetPitch, t);\n\n    this._updatePosition();\n};\n\n\nOrbitCamera.prototype._updatePosition = function () {\n    // Work out the camera position based on the pivot point, pitch, yaw and distance\n    this.entity.setLocalPosition(0,0,0);\n    this.entity.setLocalEulerAngles(this._pitch, this._yaw, 0);\n\n    var position = this.entity.getPosition();\n    position.copy(this.entity.forward);\n    position.scale(-this._distance);\n    position.add(this.pivotPoint);\n    this.entity.setPosition(position);\n};\n\n\nOrbitCamera.prototype._removeInertia = function () {\n    this._yaw = this._targetYaw;\n    this._pitch = this._targetPitch;\n    this._distance = this._targetDistance;\n};\n\n\nOrbitCamera.prototype._checkAspectRatio = function () {\n    var height = this.app.graphicsDevice.height;\n    var width = this.app.graphicsDevice.width;\n\n    // Match the axis of FOV to match the aspect ratio of the canvas so\n    // the focused entities is always in frame\n    this.entity.camera.horizontalFov = height > width;\n};\n\n\nOrbitCamera.prototype._buildAabb = function (entity, modelsAdded) {\n    var i = 0, j = 0, meshInstances;\n    \n    if (entity instanceof pc.Entity) {\n        var allMeshInstances = [];\n        var renders = entity.findComponents('render');\n\n        for (i = 0; i < renders.length; ++i) {\n            meshInstances = renders[i].meshInstances;\n            for (j = 0; j < meshInstances.length; j++) {\n                allMeshInstances.push(meshInstances[j]);\n            }\n        }  \n\n        var models = entity.findComponents('model');\n        for (i = 0; i < models.length; ++i) {\n            meshInstances = models[i].meshInstances;\n            for (j = 0; j < meshInstances.length; j++) {\n                allMeshInstances.push(meshInstances[j]);\n            }\n        }  \n\n        for (i = 0; i < allMeshInstances.length; i++) {\n            if (modelsAdded === 0) {\n                this._modelsAabb.copy(allMeshInstances[i].aabb);\n            } else {\n                this._modelsAabb.add(allMeshInstances[i].aabb);\n            }\n\n            modelsAdded += 1;\n        }\n    }\n\n    for (i = 0; i < entity.children.length; ++i) {\n        modelsAdded += this._buildAabb(entity.children[i], modelsAdded);\n    }\n\n    return modelsAdded;\n};\n\n\nOrbitCamera.prototype._calcYaw = function (quat) {\n    var transformedForward = new pc.Vec3();\n    quat.transformVector(pc.Vec3.FORWARD, transformedForward);\n\n    return Math.atan2(-transformedForward.x, -transformedForward.z) * pc.math.RAD_TO_DEG;\n};\n\n\nOrbitCamera.prototype._clampDistance = function (distance) {\n    if (this.distanceMax > 0) {\n        return pc.math.clamp(distance, this.distanceMin, this.distanceMax);\n    } else {\n        return Math.max(distance, this.distanceMin);\n    }\n};\n\n\nOrbitCamera.prototype._clampPitchAngle = function (pitch) {\n    // Negative due as the pitch is inversed since the camera is orbiting the entity\n    return pc.math.clamp(pitch, -this.pitchAngleMax, -this.pitchAngleMin);\n};\n\n\nOrbitCamera.quatWithoutYaw = new pc.Quat();\nOrbitCamera.yawOffset = new pc.Quat();\n\nOrbitCamera.prototype._calcPitch = function(quat, yaw) {\n    var quatWithoutYaw = OrbitCamera.quatWithoutYaw;\n    var yawOffset = OrbitCamera.yawOffset;\n\n    yawOffset.setFromEulerAngles(0, -yaw, 0);\n    quatWithoutYaw.mul2(yawOffset, quat);\n\n    var transformedForward = new pc.Vec3();\n\n    quatWithoutYaw.transformVector(pc.Vec3.FORWARD, transformedForward);\n\n    return Math.atan2(transformedForward.y, -transformedForward.z) * pc.math.RAD_TO_DEG;\n};\n\n","// mouse-input.js\nvar MouseInput = pc.createScript('mouseInput');\n\nMouseInput.attributes.add('orbitSensitivity', {\n    type: 'number', \n    default: 0.3, \n    title: 'Orbit Sensitivity', \n    description: 'How fast the camera moves around the orbit. Higher is faster'\n});\n\nMouseInput.attributes.add('distanceSensitivity', {\n    type: 'number', \n    default: 0.15, \n    title: 'Distance Sensitivity', \n    description: 'How fast the camera moves in and out. Higher is faster'\n});\n\n// initialize code called once per entity\nMouseInput.prototype.initialize = function() {\n    this.orbitCamera = this.entity.script.orbitCamera;\n        \n    if (this.orbitCamera) {\n        var self = this;\n        \n        var onMouseOut = function (e) {\n           self.onMouseOut(e);\n        };\n        \n        this.app.mouse.on(pc.EVENT_MOUSEDOWN, this.onMouseDown, this);\n        this.app.mouse.on(pc.EVENT_MOUSEUP, this.onMouseUp, this);\n        this.app.mouse.on(pc.EVENT_MOUSEMOVE, this.onMouseMove, this);\n        this.app.mouse.on(pc.EVENT_MOUSEWHEEL, this.onMouseWheel, this);\n\n        // Listen to when the mouse travels out of the window\n        window.addEventListener('mouseout', onMouseOut, false);\n        \n        // Remove the listeners so if this entity is destroyed\n        this.on('destroy', function() {\n            this.app.mouse.off(pc.EVENT_MOUSEDOWN, this.onMouseDown, this);\n            this.app.mouse.off(pc.EVENT_MOUSEUP, this.onMouseUp, this);\n            this.app.mouse.off(pc.EVENT_MOUSEMOVE, this.onMouseMove, this);\n            this.app.mouse.off(pc.EVENT_MOUSEWHEEL, this.onMouseWheel, this);\n\n            window.removeEventListener('mouseout', onMouseOut, false);\n        });\n    }\n    \n    // Disabling the context menu stops the browser displaying a menu when\n    // you right-click the page\n    this.app.mouse.disableContextMenu();\n  \n    this.lookButtonDown = false;\n    this.panButtonDown = false;\n    this.lastPoint = new pc.Vec2();\n};\n\n\nMouseInput.fromWorldPoint = new pc.Vec3();\nMouseInput.toWorldPoint = new pc.Vec3();\nMouseInput.worldDiff = new pc.Vec3();\n\n\nMouseInput.prototype.pan = function(screenPoint) {\n    var fromWorldPoint = MouseInput.fromWorldPoint;\n    var toWorldPoint = MouseInput.toWorldPoint;\n    var worldDiff = MouseInput.worldDiff;\n    \n    // For panning to work at any zoom level, we use screen point to world projection\n    // to work out how far we need to pan the pivotEntity in world space \n    var camera = this.entity.camera;\n    var distance = this.orbitCamera.distance;\n    \n    camera.screenToWorld(screenPoint.x, screenPoint.y, distance, fromWorldPoint);\n    camera.screenToWorld(this.lastPoint.x, this.lastPoint.y, distance, toWorldPoint);\n\n    worldDiff.sub2(toWorldPoint, fromWorldPoint);\n       \n    this.orbitCamera.pivotPoint.add(worldDiff);    \n};\n\n\nMouseInput.prototype.onMouseDown = function (event) {\n    switch (event.button) {\n        case pc.MOUSEBUTTON_LEFT: {\n            this.lookButtonDown = true;\n        } break;\n            \n        case pc.MOUSEBUTTON_MIDDLE: \n        case pc.MOUSEBUTTON_RIGHT: {\n            this.panButtonDown = true;\n        } break;\n    }\n};\n\n\nMouseInput.prototype.onMouseUp = function (event) {\n    switch (event.button) {\n        case pc.MOUSEBUTTON_LEFT: {\n            this.lookButtonDown = false;\n        } break;\n            \n        case pc.MOUSEBUTTON_MIDDLE: \n        case pc.MOUSEBUTTON_RIGHT: {\n            this.panButtonDown = false;            \n        } break;\n    }\n};\n\n\nMouseInput.prototype.onMouseMove = function (event) {    \n    var mouse = pc.app.mouse;\n    if (this.lookButtonDown) {\n        this.orbitCamera.pitch -= event.dy * this.orbitSensitivity;\n        this.orbitCamera.yaw -= event.dx * this.orbitSensitivity;\n        \n    } else if (this.panButtonDown) {\n        this.pan(event);   \n    }\n    \n    this.lastPoint.set(event.x, event.y);\n};\n\n\nMouseInput.prototype.onMouseWheel = function (event) {\n    this.orbitCamera.distance -= event.wheel * this.distanceSensitivity * (this.orbitCamera.distance * 0.1);\n    event.event.preventDefault();\n};\n\n\nMouseInput.prototype.onMouseOut = function (event) {\n    this.lookButtonDown = false;\n    this.panButtonDown = false;\n};\n\n","// touch-input.js\nvar TouchInput = pc.createScript('touchInput');\n\nTouchInput.attributes.add('orbitSensitivity', {\n    type: 'number', \n    default: 0.4, \n    title: 'Orbit Sensitivity', \n    description: 'How fast the camera moves around the orbit. Higher is faster'\n});\n\nTouchInput.attributes.add('distanceSensitivity', {\n    type: 'number', \n    default: 0.2, \n    title: 'Distance Sensitivity', \n    description: 'How fast the camera moves in and out. Higher is faster'\n});\n\n// initialize code called once per entity\nTouchInput.prototype.initialize = function() {\n    this.orbitCamera = this.entity.script.orbitCamera;\n    \n    // Store the position of the touch so we can calculate the distance moved\n    this.lastTouchPoint = new pc.Vec2();\n    this.lastPinchMidPoint = new pc.Vec2();\n    this.lastPinchDistance = 0;\n    \n    if (this.orbitCamera && this.app.touch) {\n        // Use the same callback for the touchStart, touchEnd and touchCancel events as they \n        // all do the same thing which is to deal the possible multiple touches to the screen\n        this.app.touch.on(pc.EVENT_TOUCHSTART, this.onTouchStartEndCancel, this);\n        this.app.touch.on(pc.EVENT_TOUCHEND, this.onTouchStartEndCancel, this);\n        this.app.touch.on(pc.EVENT_TOUCHCANCEL, this.onTouchStartEndCancel, this);\n        \n        this.app.touch.on(pc.EVENT_TOUCHMOVE, this.onTouchMove, this);\n        \n        this.on('destroy', function() {\n            this.app.touch.off(pc.EVENT_TOUCHSTART, this.onTouchStartEndCancel, this);\n            this.app.touch.off(pc.EVENT_TOUCHEND, this.onTouchStartEndCancel, this);\n            this.app.touch.off(pc.EVENT_TOUCHCANCEL, this.onTouchStartEndCancel, this);\n\n            this.app.touch.off(pc.EVENT_TOUCHMOVE, this.onTouchMove, this);\n        });\n    }\n};\n\n\nTouchInput.prototype.getPinchDistance = function (pointA, pointB) {\n    // Return the distance between the two points\n    var dx = pointA.x - pointB.x;\n    var dy = pointA.y - pointB.y;    \n    \n    return Math.sqrt((dx * dx) + (dy * dy));\n};\n\n\nTouchInput.prototype.calcMidPoint = function (pointA, pointB, result) {\n    result.set(pointB.x - pointA.x, pointB.y - pointA.y);\n    result.scale(0.5);\n    result.x += pointA.x;\n    result.y += pointA.y;\n};\n\n\nTouchInput.prototype.onTouchStartEndCancel = function(event) {\n    // We only care about the first touch for camera rotation. As the user touches the screen, \n    // we stored the current touch position\n    var touches = event.touches;\n    if (touches.length == 1) {\n        this.lastTouchPoint.set(touches[0].x, touches[0].y);\n    \n    } else if (touches.length == 2) {\n        // If there are 2 touches on the screen, then set the pinch distance\n        this.lastPinchDistance = this.getPinchDistance(touches[0], touches[1]);\n        this.calcMidPoint(touches[0], touches[1], this.lastPinchMidPoint);\n    }\n};\n\n\nTouchInput.fromWorldPoint = new pc.Vec3();\nTouchInput.toWorldPoint = new pc.Vec3();\nTouchInput.worldDiff = new pc.Vec3();\n\n\nTouchInput.prototype.pan = function(midPoint) {\n    var fromWorldPoint = TouchInput.fromWorldPoint;\n    var toWorldPoint = TouchInput.toWorldPoint;\n    var worldDiff = TouchInput.worldDiff;\n    \n    // For panning to work at any zoom level, we use screen point to world projection\n    // to work out how far we need to pan the pivotEntity in world space \n    var camera = this.entity.camera;\n    var distance = this.orbitCamera.distance;\n    \n    camera.screenToWorld(midPoint.x, midPoint.y, distance, fromWorldPoint);\n    camera.screenToWorld(this.lastPinchMidPoint.x, this.lastPinchMidPoint.y, distance, toWorldPoint);\n    \n    worldDiff.sub2(toWorldPoint, fromWorldPoint);\n     \n    this.orbitCamera.pivotPoint.add(worldDiff);    \n};\n\n\nTouchInput.pinchMidPoint = new pc.Vec2();\n\nTouchInput.prototype.onTouchMove = function(event) {\n    var pinchMidPoint = TouchInput.pinchMidPoint;\n    \n    // We only care about the first touch for camera rotation. Work out the difference moved since the last event\n    // and use that to update the camera target position \n    var touches = event.touches;\n    if (touches.length == 1) {\n        var touch = touches[0];\n        \n        this.orbitCamera.pitch -= (touch.y - this.lastTouchPoint.y) * this.orbitSensitivity;\n        this.orbitCamera.yaw -= (touch.x - this.lastTouchPoint.x) * this.orbitSensitivity;\n        \n        this.lastTouchPoint.set(touch.x, touch.y);\n    \n    } else if (touches.length == 2) {\n        // Calculate the difference in pinch distance since the last event\n        var currentPinchDistance = this.getPinchDistance(touches[0], touches[1]);\n        var diffInPinchDistance = currentPinchDistance - this.lastPinchDistance;\n        this.lastPinchDistance = currentPinchDistance;\n                \n        this.orbitCamera.distance -= (diffInPinchDistance * this.distanceSensitivity * 0.1) * (this.orbitCamera.distance * 0.1);\n        \n        // Calculate pan difference\n        this.calcMidPoint(touches[0], touches[1], pinchMidPoint);\n        this.pan(pinchMidPoint);\n        this.lastPinchMidPoint.copy(pinchMidPoint);\n    }\n};\n\n\n","// animation-event-listener.js\nvar AnimationEvents = pc.createScript('animation-event-listener');\nAnimationEvents.attributes.add('shoeEntity', {\n    type: 'entity',\n    description: 'The entity shoe'\n});\n\nAnimationEvents.attributes.add('particles', {\n    type: 'entity',\n    description: 'Particle System entity'\n});\n\nAnimationEvents.attributes.add('emissiveTexture',{\n    type: 'asset', \n    assetType: 'texture',\n    description: 'Display Texture emissive'\n});\n\nAnimationEvents.attributes.add('pistolDisplay',{\n    type: 'entity',\n    description: 'Display mesh of pistol'\n});\n\nfunction setIntervalX(callback, delay, repetitions) {\n    var x = 0;\n    var intervalID = window.setInterval(function () {\n\n       callback(x);\n\n       if (++x === repetitions) {\n           window.clearInterval(intervalID);\n       }\n    }, delay);\n}\n\n\n// initialize code called once per entity\nAnimationEvents.prototype.initialize = function() {\n    \n    this.entity.anim.on('pistol_near', function (event) {\n        //pistol is near enought, animate emissive\n        console.log(\"near!\");\n        const material = this.shoeEntity.render.meshInstances[0].material;\n        setIntervalX((repetitionIndex)=>{\n            \n            if(repetitionIndex % 2 == 0){\n                material.emissive.set(0.5,0,0);\n            }else{\n                material.emissive.set(0,0,0);\n            }\n            material.update();\n            \n        },125,8);\n        \n        const pistolMaterial = this.pistolDisplay.render.meshInstances[0].material;\n        pistolMaterial.emissiveIntensity = 1;\n        pistolMaterial.update();\n        \n        window.setTimeout(()=>{\n            setIntervalX((repetitionIndex)=>{\n                pistolMaterial.emissiveIntensity = pistolMaterial.emissiveIntensity - 0.05;\n                pistolMaterial.update(); \n            },60,20);\n        },1000);\n        \n    }, this);\n    \n    this.entity.anim.on('start_rfid_wave', function (event) {\n        //pistol is near enought, animate emissive\n        console.log(\"RFID waves!\");\n        this.particles.particlesystem.play();\n        \n        window.setTimeout(()=>{\n            this.particles.particlesystem.reset();\n        },1000);\n    }, this);\n};\n\n","// ui-button.js\nvar ButtonLogic = pc.createScript('ui-button');\nButtonLogic.attributes.add('animEntity', {\n    type: 'entity',\n    description: 'The entity that we want to update when the button is clicked'\n});\n\nvar animating=false;\n\n// initialize code called once per entity\nButtonLogic.prototype.initialize = function() {\n    this.app.on('AnimateModel', ()=>{\n        \n        if(animating)\n            return;\n        \n        this.animEntity.anim.setTrigger(\"Animate\");\n        console.log(this.animEntity.anim);\n        animating=true;\n        \n        window.setTimeout(()=>{\n            animating=false;\n        },3500);\n    }, this);\n};\n\n","// ar.js\nvar Ar = pc.createScript('ar');\n\n\nconst HAS_RESIZE_OBSERVER = self.ResizeObserver != null;\n\nconst HAS_INTERSECTION_OBSERVER = self.IntersectionObserver != null;\n\nconst IS_MOBILE = (() => {\n  const userAgent = navigator.userAgent || navigator.vendor;\n  let check = false;\n  // eslint-disable-next-line\n  if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i\n          .test(userAgent) ||\n      /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i\n          .test(userAgent.substr(0, 4))) {\n    check = true;\n  }\n  return check;\n})();\n\nconst IS_CHROMEOS = /\\bCrOS\\b/.test(navigator.userAgent);\n\nconst IS_ANDROID = /android/i.test(navigator.userAgent);\n\n// Prior to iOS 13, detecting iOS Safari was relatively straight-forward.\n// As of iOS 13, Safari on iPad (in its default configuration) reports the same\n// user-agent string as Safari on desktop MacOS. Strictly speaking, we only care\n// about iOS for the purposes if selecting for cases where Quick Look is known\n// to be supported. However, for API correctness purposes, we must rely on\n// known, detectable signals to distinguish iOS Safari from MacOS Safari. At the\n// time of this writing, there are no non-iOS/iPadOS Apple devices with\n// multi-touch displays.\n// @see https://stackoverflow.com/questions/57765958/how-to-detect-ipad-and-ipad-os-version-in-ios-13-and-up\n// @see https://forums.developer.apple.com/thread/119186\n// @see https://github.com/google/model-viewer/issues/758\nconst IS_IOS =(/iPad|iPhone|iPod/.test(navigator.userAgent) && !self.MSStream) ||(navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);\n\nconst IS_AR_QUICKLOOK_CANDIDATE = (() => {\n  const tempAnchor = document.createElement('a');\n\n  return Boolean(\n      tempAnchor.relList && tempAnchor.relList.supports &&\n      tempAnchor.relList.supports('ar'));\n})();\n\n// @see https://developer.chrome.com/multidevice/user-agent\nconst IS_SAFARI = /Safari\\//.test(navigator.userAgent);\nconst IS_FIREFOX = /firefox/i.test(navigator.userAgent);\nconst IS_OCULUS = /OculusBrowser/.test(navigator.userAgent);\nconst IS_IOS_CHROME = IS_IOS && /CriOS\\//.test(navigator.userAgent);\nconst IS_IOS_SAFARI = IS_IOS && IS_SAFARI;\n\nconst IS_SCENEVIEWER_CANDIDATE = IS_ANDROID && !IS_FIREFOX && !IS_OCULUS;\n\n\n\nfunction SceneViewer() {\n    \n    const src= \"files/assets/56146780/1/CTCR_ar.glb\";\n    \n      const location = self.location.toString();\n      const locationUrl = new URL(location);\n      const modelUrl = new URL(src, location);\n      const params = new URLSearchParams(modelUrl.search);\n    \n      const noArViewerSigil = '#model-viewer-no-ar-fallback';\n    \n    const arAnchor=document.createElement('a');\n\n\n      locationUrl.hash = noArViewerSigil;\n\n      // modelUrl can contain title/link/sound etc.\n      params.set('mode', 'ar_preferred');\n      if (!params.has('disable_occlusion')) {\n        params.set('disable_occlusion', 'true');\n      }\n      if (this.arScale === 'fixed') {\n        params.set('resizable', 'false');\n      }\n      if (this.arPlacement === 'wall') {\n        params.set('enable_vertical_placement', 'true');\n      }\n      if (params.has('sound')) {\n        const soundUrl = new URL(params.get('sound'), location);\n        params.set('sound', soundUrl.toString());\n      }\n      if (params.has('link')) {\n        const linkUrl = new URL(params.get('link'), location);\n        params.set('link', linkUrl.toString());\n      }\n\n      const intent = `intent://arvr.google.com/scene-viewer/1.0?${\n          params.toString() + '&file=' +\n          encodeURIComponent(\n              modelUrl\n                  .toString())}#Intent;scheme=https;package=com.google.ar.core;action=android.intent.action.VIEW;S.browser_fallback_url=${\n          encodeURIComponent(locationUrl.toString())};end;`;\n\n      const undoHashChange = () => {\n        if (self.location.hash === noArViewerSigil) {\n          isSceneViewerBlocked = true;\n          // The new history will be the current URL with a new hash.\n          // Go back one step so that we reset to the expected URL.\n          // NOTE(cdata): this should not invoke any browser-level navigation\n          // because hash-only changes modify the URL in-place without\n          // navigating:\n          self.history.back();\n          console.warn('Error while trying to present in AR with Scene Viewer');\n          console.warn('Falling back to next ar-mode');\n          this[$selectARMode]();\n          // Would be nice to activateAR() here, but webXR fails due to not\n          // seeing a user activation.\n        }\n      };\n\n      self.addEventListener('hashchange', undoHashChange, {once: true});\n\n      arAnchor.setAttribute('href', intent);\n      console.log('Attempting to present in AR with Scene Viewer...');\n      arAnchor.click();\n    }\n\n\nfunction QuickLook() {\n      const iosSrc = \"files/assets/56146780/1/ctcr.usdz\";\n    \n        const arAnchor=document.createElement('a');\n\n\n      const objectURL = iosSrc;\n      const modelUrl = new URL(objectURL, self.location.toString());\n\n      if (this.arScale === 'fixed') {\n        if (modelUrl.hash) {\n          modelUrl.hash += '&';\n        }\n        modelUrl.hash += 'allowsContentScaling=0';\n      }\n\n      const anchor = arAnchor;\n      anchor.setAttribute('rel', 'ar');\n      const img = document.createElement('img');\n      anchor.appendChild(img);\n      anchor.setAttribute('href', modelUrl.toString());\n      console.log('Attempting to present in AR with Quick Look...');\n      anchor.click();\n      anchor.removeChild(img);\n    \n    }\n\n\nAr.prototype.initialize = function() {\n    \n    if(!IS_MOBILE){\n        document.getElementById(\"ar-button\").style.display=\"NONE\";\n        return;\n    }\n    \n    \n    this.app.on('ARShow', ()=>{\n        if (IS_SCENEVIEWER_CANDIDATE ) {\n            SceneViewer();\n            return;\n        }\n        if (IS_AR_QUICKLOOK_CANDIDATE) {\n            QuickLook();\n            return;\n        }\n        \n        console.log(\"Nothing!\");\n    }, this);\n};\n\n","// loading.js\npc.script.createLoadingScreen(function (app) {\n    var showSplash = function () {\n        // splash wrapper\n        var wrapper = document.createElement('div');\n        wrapper.id = 'application-splash-wrapper';\n        document.body.appendChild(wrapper);\n\n        // splash\n        var splash = document.createElement('div');\n        splash.id = 'application-splash';\n        wrapper.appendChild(splash);\n        splash.style.display = 'none';\n\n        var logo = document.createElement('img');\n        logo.src = 'https://playcanvas.com/static-assets/images/play_text_252_white.png';\n        splash.appendChild(logo);\n        logo.onload = function () {\n            splash.style.display = 'block';\n        };\n\n        var container = document.createElement('div');\n        container.id = 'progress-bar-container';\n        splash.appendChild(container);\n\n        var bar = document.createElement('div');\n        bar.id = 'progress-bar';\n        container.appendChild(bar);\n\n    };\n\n    var hideSplash = function () {\n        var splash = document.getElementById('application-splash-wrapper');\n        splash.parentElement.removeChild(splash);\n    };\n\n    var setProgress = function (value) {\n        var bar = document.getElementById('progress-bar');\n        if(bar) {\n            value = Math.min(1, Math.max(0, value));\n            bar.style.width = value * 100 + '%';\n        }\n    };\n\n    var createCss = function () {\n        var css = [\n            'body {',\n            '    background-color: #FFFFFF;',\n            '}',\n            '',\n            '#application-splash-wrapper {',\n            '    position: absolute;',\n            '    top: 0;',\n            '    left: 0;',\n            '    height: 100%;',\n            '    width: 100%;',\n            '    background-color: #FFFFFF;',\n            '}',\n            '',\n            '#application-splash {',\n            '    position: absolute;',\n            '    top: calc(50% - 28px);',\n            '    width: 264px;',\n            '    left: calc(50% - 132px);',\n            '}',\n            '',\n            '#application-splash img {',\n            '    width: 100%;',\n            '}',\n            '',\n            '#progress-bar-container {',\n            '    margin: 20px auto 0 auto;',\n            '    height: 2px;',\n            '    width: 100%;',\n            '    background-color: #1d292c;',\n            '}',\n            '',\n            '#progress-bar {',\n            '    width: 0%;',\n            '    height: 100%;',\n            '    background-color: #f60;',\n            '}',\n            '',\n            '@media (max-width: 480px) {',\n            '    #application-splash {',\n            '        width: 170px;',\n            '        left: calc(50% - 85px);',\n            '    }',\n            '}'\n        ].join('\\n');\n\n        var style = document.createElement('style');\n        style.type = 'text/css';\n        if (style.styleSheet) {\n            style.styleSheet.cssText = css;\n        } else {\n            style.appendChild(document.createTextNode(css));\n        }\n\n        document.head.appendChild(style);\n    };\n\n    createCss();\n    showSplash();\n\n    app.on('preload:end', function () {\n        app.off('preload:progress');\n    });\n    app.on('preload:progress', setProgress);\n    app.on('start', hideSplash);\n});\n\n","// ui.js\nvar Ui = pc.createScript('ui');\n\nUi.attributes.add('css', {type: 'asset', assetType:'css', title: 'CSS Asset'});\nUi.attributes.add('html', {type: 'asset', assetType:'html', title: 'HTML Asset'});\n\n\n\nUi.prototype.initialize = function () {\n    // create STYLE element\n    var style = document.createElement('style');\n\n    // append to head\n    document.head.appendChild(style);\n    style.innerHTML = this.css.resource || '';\n    \n    // Add the HTML\n    this.div = document.createElement('div');\n    this.div.classList.add('container');\n    this.div.innerHTML = this.html.resource || '';\n    \n    var asset = pc.app.assets.find(\"Animate.png\", \"texture\");\n    \n    \n    const isEditor = document.URL.indexOf(\"playcanvas\") != -1;\n    \n    \n    const url = isEditor? `api/${asset.file.url}` : asset.file.url;\n    \n    \n    //console.log(url);\n    \n    var animatebutton = this.div.querySelector('.animate-button');\n    animatebutton.style.backgroundImage = `url(${url})`;\n    \n    \n    // append to body\n    // can be appended somewhere else\n    // it is recommended to have some container element\n    // to prevent iOS problems of overfloating elements off the screen\n    document.body.appendChild(this.div);\n    \n    \n    this.counter = 0;\n    \n    this.bindEvents();\n};\n\nUi.prototype.bindEvents = function() {\n    var self = this;\n    // example\n    //\n    // get button element by class\n    var animatebutton = this.div.querySelector('.animate-button');\n    var arbutton = this.div.querySelector('.view-in-ar-button');\n    // if found\n    if (animatebutton) {\n        // add event listener on `click`\n        animatebutton.addEventListener('click', function() {\n            console.log('animatebutton clicked');\n            pc.app.fire(\"AnimateModel\");\n        }, false);\n    }\n    \n    if (arbutton){\n        arbutton.addEventListener('click', function() {\n            console.log('arbutton clicked');\n            pc.app.fire(\"ARShow\");\n        }, false);\n    }\n};\n\n","// look-at.js\nvar LookAt = pc.createScript('look-at');\n\nLookAt.attributes.add('cameraEntity', {\n    type: 'entity',\n    description: 'The camera Entity'\n});\n\nLookAt.prototype.initialize = function() {\n        this.directionToCamera = new pc.Vec3();\n\n};\n\n// update code called every frame\nLookAt.prototype.update = function(dt) {\n    //if(this.cameraEntity){\n    //    const entityPos = this.cameraEntity.getPosition();\n    //    this.entity.lookAt(entityPos);\n    //}\n    \n    \n    \n    var cameraPosition = this.cameraEntity.getPosition();\n    \n    // Always face the camera\n    this.entity.lookAt(cameraPosition);\n    \n    // Get the current direction to the camera\n    this.directionToCamera.sub2(cameraPosition, this.entity.getPosition());\n    this.directionToCamera.normalize();\n     \n    // Get the dot product of the direction to the camera and the original direction of the hotspot\n    // which is relative to the angle between the two vectors\n    // Start fading out the hotspot if the dot product is below fadeDropOff\n    //var dot = this.directionToCamera.dot(this.defaultForwardDirection);\n    //if (dot < 0) {\n    //    if (this.sprite.enabled) {\n    //        this.sprite.enabled = false;\n    //    }\n    //} else {\n    //    if (!this.sprite.enabled) {\n    //        this.sprite.enabled = true;\n    //    }\n    //    \n    //    var meshInstances = this.meshInstances; \n    //    var alpha = pc.math.clamp(dot / this.fadeDropOff, 0, 1);\n    //    for(var i = 0; i < meshInstances.length; ++i) {\n    //        meshInstances[i].setParameter(\"material_opacity\", alpha);\n    //    }\n    //}\n};\n\n\n","// hotspot-dot-button.js\nvar HotspotDotButton = pc.createScript('hotspotDotButton');\n\nHotspotDotButton.attributes.add('hotspotEntity', {\n    type: 'entity',\n    description: 'The hotspot Entity'\n});\n\n// initialize code called once per entity\nHotspotDotButton.prototype.initialize = function() {\n    this.hotspotEntity.enabled = false;\n    \n    this.app.on('HotspotOpen', ()=>{\n        this.hotspotEntity.enabled = false;\n    });\n    \n    \n    this.entity.element.on('click', function(event) {\n        \n        const newState=!this.hotspotEntity.enabled;\n        \n        if(newState){\n            this.app.fire('HotspotOpen');\n        }\n        \n        this.hotspotEntity.enabled = newState;\n    }, this);\n};\n\n","// assign-material-image-element.js\nvar AssignMaterialImageElement = pc.createScript('assignMaterialImageElement');\nAssignMaterialImageElement.attributes.add('materialAsset', {type: 'asset'});\n\n// initialize code called once per entity\nAssignMaterialImageElement.prototype.initialize = function() {\n    console.log(this.entity);\n    this.entity.element.material = this.materialAsset.resource;\n};\n\n\n","// hotspot.js\nvar Hotspot = pc.createScript('hotspot');\n\n// initialize code called once per entity\nHotspot.prototype.initialize = function() {\n    this.app.on('AnimateModel', ()=>{\n        this.entity.enabled=false;\n        window.setTimeout(()=>{\n            this.entity.enabled=true;\n        },3500);\n    });\n};\n\n\n"]}